if(typeof WH==="undefined"){window.WH={Data:{},PageMeta:{},staticUrl:"https://wow.zamimg.com",wowheadRemote:true}}WH.isTouch=function(){if(!WH.wowheadRemote&&typeof Platform!=="undefined"){WH.isTouch=function(){return Platform.isTouch()}}else{var b=navigator.userAgent||navigator.vendor||window.opera;var a={isMobile:false,isTablet:false};if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a.isMobile=true}if(!a.isMobile&&/(android|ipad|playbook|silk)/i.test(b)){a.isTablet=true}WH.isTouch=(function(c){return c.isMobile||c.isTablet}).bind(null,a);WH.isMobile=(function(c){return c}).bind(null,a.isMobile);WH.isTablet=(function(c){return c}).bind(null,a.isTablet)}return WH.isTouch()};if(!window.$WowheadPower){window.$WowheadPower=new function(){if(!WH.Types){WH.Types=new function(){this.NPC=1;this.OBJECT=2;this.ITEM=3;this.ITEM_SET=4;this.QUEST=5;this.SPELL=6;this.ZONE=7;this.FACTION=8;this.PET=9;this.ACHIEVEMENT=10;this.TITLE=11;this.EVENT=12;this.CLASS=13;this.RACE=14;this.SKILL=15;this.CURRENCY=17;this.PROJECT=18;this.SOUND=19;this.BUILDING=20;this.FOLLOWER=21;this.MISSION_ABILITY=22;this.MISSION=23;this.SHIP=25;this.THREAT=26;this.RESOURCE=27;this.CHAMPION=28;this.ICON=29;this.ORDER_ADVANCEMENT=30;this.FOLLOWER_A=31;this.FOLLOWER_H=32;this.SHIP_A=33;this.SHIP_H=34;this.CHAMPION_A=35;this.CHAMPION_H=36;this.TRANSMOG_ITEM=37;this.BFA_CHAMPION=38;this.BFA_CHAMPION_A=39;this.AFFIX=40;this.BFA_CHAMPION_H=41;this.AZERITE_ESSENCE_POWER=42;this.AZERITE_ESSENCE=43;this.STORYLINE=44;this.ADVENTURE_COMBATANT_ABILITY=46;this.ENCOUNTER=47;this.PET_ABILITY=200;this.SCREENSHOT=91;this.GUIDE_IMAGE=98;this.GUIDE=100;this.TRANSMOG_SET=101;this.OUTFIT=110;this.GEAR_SET=111;this.LISTVIEW=158}}const aI=-1;const l=0;const b=1;const W={};W["-1000"]={name:"Mount",path:"mount",mobile:true,data:{},maxId:50000};W["-1001"]={name:"Recipe",path:"recipe",mobile:true,data:{},maxId:500000};W[WH.Types.NPC]={name:"NPC",path:"npc",mobile:false,data:{},maxId:500000};W[WH.Types.OBJECT]={name:"Object",path:"object",mobile:false,data:{},maxId:750000};W[WH.Types.ITEM]={name:"Item",path:"item",mobile:true,data:{},maxId:500000};W[WH.Types.ITEM_SET]={name:"Item Set",path:"item-set",mobile:true,data:{},maxId:10000,minId:-5000};W[WH.Types.QUEST]={name:"Quest",path:"quest",mobile:false,data:{},maxId:100000};W[WH.Types.SPELL]={name:"Spell",path:"spell",mobile:true,data:{},maxId:500000};W[WH.Types.ZONE]={name:"Zone",path:"zone",mobile:false,data:{},maxId:50000};W[WH.Types.ACHIEVEMENT]={name:"Achievement",path:"achievement",mobile:true,data:{},maxId:50000};W[WH.Types.EVENT]={name:"Event",path:"event",mobile:false,data:{},maxId:10000};W[WH.Types.CURRENCY]={name:"Currency",path:"currency",mobile:false,data:{},maxId:10000};W[WH.Types.BUILDING]={name:"Building",path:"building",mobile:false,data:{},maxId:1000};W[WH.Types.FOLLOWER]={name:"Follower",path:"follower",mobile:true,data:{},maxId:10000};W[WH.Types.MISSION_ABILITY]={name:"Mission Ability",path:"mission-ability",mobile:true,data:{},maxId:10000};W[WH.Types.MISSION]={name:"Mission",path:"mission",mobile:true,data:{},maxId:10000};W[WH.Types.SHIP]={name:"Ship",path:"ship",mobile:true,data:{},maxId:10000};W[WH.Types.THREAT]={name:"Threat",path:"threat",mobile:false,data:{},maxId:1000};W[WH.Types.RESOURCE]={name:"Resource",path:"resource",mobile:true,data:{},maxId:100,minId:0};W[WH.Types.CHAMPION]={name:"Champion",path:"champion",mobile:true,data:{},maxId:10000};W[WH.Types.ORDER_ADVANCEMENT]={name:"Order Advancement",path:"order-advancement",mobile:true,data:{},maxId:5000};W[WH.Types.BFA_CHAMPION]={name:"BFA Champion",path:"bfa-champion",mobile:true,data:{},maxId:10000};W[WH.Types.AFFIX]={name:"Affix",path:"affix",mobile:true,data:{},maxId:1000};W[WH.Types.AZERITE_ESSENCE_POWER]={name:"Azerite Essence Power",path:"azerite-essence-power",mobile:true,data:{},maxId:1000};W[WH.Types.AZERITE_ESSENCE]={name:"Azerite Essence",path:"azerite-essence",mobile:false,data:{},maxId:100};W[WH.Types.STORYLINE]={name:"Storyline",path:"storyline",mobile:false,data:{},maxId:10000};W[WH.Types.ADVENTURE_COMBATANT_ABILITY]={name:"Adventure Combatant Ability",path:"adventure-combatant-ability",mobile:true,data:{},maxId:10000};W[WH.Types.GUIDE]={name:"Guide",path:"guide",mobile:false,data:{}};W[WH.Types.TRANSMOG_SET]={name:"Transmog Set",path:"transmog-set",mobile:true,data:{},maxId:50000};W[WH.Types.OUTFIT]={name:"Outfit",path:"outfit",mobile:true,data:{}};W[WH.Types.PET_ABILITY]={name:"Battle Pet Ability",path:"pet-ability",mobile:true,data:{},maxId:10000};const P=WH.wowheadRemote;const y=WH.TERMS||{genericequip_tip:'<span class="q2">Equip: Increases your $1 by <!--rtg$2-->$3&nbsp;<small>(<!--rtg%$2-->0&nbsp;@&nbsp;L<!--lvl-->0)</small>.</span><br />',reforged_format:"Reforged ($1 $2 &rarr; $1 $3)"};var aQ=P;var x=false;var ax={applyto:3},J=document.getElementsByTagName("head")[0],aM,aC={attach:3,attachToIcon:1,attachWithoutScreenshot:4,"float":0,floatWithoutIcon:5,screen:2},w=550,aU={colorLinks:"colorlinks",iconizeLinks:"iconizelinks",renameLinks:"renamelinks"},ai,B,R,av,m,ao,at,ar,an=aC["float"],D=false,ac=null,C=1,A=1,L=0,ad=1,aB=2,d=3,al=4,u=5,ab=1,S=2,t=3,j=4,aG=5,af=6,V=7,X=10,k=12,U=13,h=17,aD=20,aa=21,z=22,aH=23,q=25,ag=26,n=27,K=28,aT=30,aO=38,a=40,aL=42,Q=43,G=44,aE=46;TYPE_GUIDE=100,TYPE_TRANSMOGSET=101,TYPE_OUTFIT=110,TYPE_PETABILITY=200,ICONIZE_TYPES=[X,Q,aL,t,af],CURSOR_HSPACE=15,CURSOR_VSPACE=15,_LANG={0:{achievementComplete:"Achievement earned by $1 on $2/$3/$4",loading:"Loading…",noResponse:"No response from server :(",notFound:"%s Not Found"},1:{achievementComplete:"$1이(가) $2/$3/$4에 업적을 달성함",loading:"로딩 중…",noResponse:"서버가 응답하지 않습니다 :(",notFound:"%s 을(를) 찾을 수 없음"},2:{achievementComplete:"Haut-fait reçu par $1 le $2/$3/$4",loading:"Chargement…",noResponse:"Pas de réponse du serveur :(",notFound:"%s non trouvé"},3:{achievementComplete:"Erfolg wurde von $1 am $3.$2.$4 errungen",loading:"Lädt…",noResponse:"Keine Antwort vom Server :(",notFound:"%s nicht gefunden"},4:{achievementComplete:"$1在$2/$3/$4上获得成就",loading:"正在载入…",noResponse:"服务器没有响应 :(",notFound:"%s未找到"},6:{achievementComplete:"Logro conseguido por $1 el $2/$3/$4",loading:"Cargando…",noResponse:"No hay respuesta del servidor :(",notFound:"%s no encontrado/a"},7:{achievementComplete:"$1 получил(а) это достижение $2/$3/$4",loading:"Загрузка…",noResponse:"Нет ответа от сервера :(",notFound:"%s не найдено"},8:{achievementComplete:"Conquista conseguida por $1 em $3/$2/$4",loading:"Carregando…",noResponse:"Sem resposta do servidor :(",notFound:"%s não encontrado(a)"},9:{achievementComplete:"Impresa compiuta da $1 su $2/$3/$4",loading:"Caricamento…",noResponse:"Nessuna risposta dal server :(",notFound:"%s Non Trovato"}},STEALTH_TYPES=[TYPE_GUIDE];var Z=new function(){var aZ={};var aY={};var aX={};var aW={};this.fetch=function(a3,a6){if(!aW.hasOwnProperty(a3)||aW[a3].hasOwnProperty(a6)){return}aW[a3][a6]=ad;aZ[a3][a6]=[];var a4=WH.dataEnvTerm[a6];switch(a6){case WH.dataEnv.BETA:a4=WH.BETA_DOMAIN||a4;break;case WH.dataEnv.MAIN:a4="www";break}var a2=ah(a4)+aY[a3];var a5=WH.getDataBuild(a6);a2+=(a5!=="0")?"&"+a5:"";a2+="&json";WH.xhrJsonRequest(a2,(function(a7,a9,a8){if(!a8){WH.error("Wowhead tooltips failed to load entity scaling data.",au(a7));return}Z.setData(a7,a9,a8)}).bind(null,a3,a6))};this.getSpellsBySpec=function(a2,a3){var a4=R||WH.getDataEnv();this.registerCallback(U,a4,function(){var a6=aX[U][a4];var a5=[];if(a6.specMap.hasOwnProperty(a2)){a5=a6["class"][a6.specMap[a2]].concat(a6.spec[a2]||[])}a3(a5)})};this.isLoaded=function(a2,a3){if(!aW.hasOwnProperty(a2)){return true}if(aW[a2][a3]===al){a0();return true}return false};this.registerCallback=function(a2,a4,a3){if(this.isLoaded(a2,a4)){window.requestAnimationFrame(a3);return}if(!aZ[a2].hasOwnProperty(a4)){this.fetch(a2,a4)}aZ[a2][a4].push(a3)};this.setData=function(a3,a5,a4){aW[a3][a5]=al;aZ[a3][a5]=aZ[a3][a5]||[];aX[a3][a5]=a4;a0();var a2=aZ[a3][a5];while(a2.length){a2.shift()()}};function a1(){aY[t]="/data/item-scaling";aY[af]="/data/spell-scaling";aY[U]="/data/spec-spells";for(var a2 in aY){if(!aY.hasOwnProperty(a2)){continue}aW[a2]={};aZ[a2]={};aX[a2]={}}}function a0(){var a3=R||WH.getDataEnv();var a2;if(a2=aX[t][a3]){WH.staminaFactor=a2.staminaByIlvl;WH.convertRatingToPercent.RB=a2.combatRatingsBase;WH.convertRatingToPercent.LH=a2.ratingsToPercentLH;WH.convertRatingToPercent.RM=a2.ratingsToPercentRM;WH.convertRatingToPercent.LT=a2.ratingsToPercentLT;WH.convertScalingFactor.SV=a2.itemScalingValue;WH.convertScalingFactor.SD=a2.scalingFactors;WH.curvePoints=a2.curvePoints;WH.applyStatModifications.ScalingData=a2.scalingData;WH.Data.artifactKnowledgeMultiplier=a2.artifactKnowledgeMultiplier;WH.Data.bonusItemEffects=a2.bonusEffects;WH.contentTuningLevels=a2.contentTuningLevels}if(a2=aX[af][a3]){WH.convertScalingSpell.SV=a2.scalingValue;WH.convertScalingSpell.SpellInformation=a2.spellInformation;WH.convertScalingSpell.RandPropPoints=a2.randPropPoints}}a1()};this.setScales=Z.setData;var p={0:"enus",1:"kokr",2:"frfr",3:"dede",4:"zhcn",6:"eses",7:"ruru",8:"ptbr",9:"itit"};var Y={getId:function(){return 0},getName:function(){return"enus"}};if(typeof aN==="undefined"){var aN={traits:{agi:["Agility","Agi","Agi"],arcres:["Arcane resistance","Arcane Resist","ArcR"],arcsplpwr:["Arcane spell power","Arcane Power","ArcP"],armor:["Armor","Armor","Armor"],armorbonus:["Additional armor","Bonus Armor","AddAr"],armorpenrtng:["Armor penetration rating","Armor Pen","Pen"],atkpwr:["Attack power","AP","AP"],block:["Block value","Block Value","BkVal"],blockrtng:["Block rating","Block","Block"],critstrkrtng:["Critical strike rating","Crit","Crit"],defrtng:["Defense rating","Defense","Def"],dmg:["Weapon damage","Damage","Dmg"],dmgmax1:["Maximum damage","Max Damage","Max"],dmgmin1:["Minimum damage","Min Damage","Min"],dodgertng:["Dodge rating","Dodge","Dodge"],dps:["Damage per second","DPS","DPS"],exprtng:["Expertise rating","Expertise","Exp"],firres:["Fire resistance","Fire Resist","FirR"],firsplpwr:["Fire spell power","Fire Power","FireP"],frores:["Frost resistance","Frost Resist","FroR"],frosplpwr:["Frost spell power","Frost Power","FroP"],hastertng:["Haste rating","Haste","Haste"],health:["Health","Health","Hlth"],healthrgn:["Health regeneration","HP5","HP5"],hitrtng:["Hit rating","Hit","Hit"],holres:["Holy resistance","Holy Resist","HolR"],holsplpwr:["Holy spell power","Holy Power","HolP"],"int":["Intellect","Int","Int"],level:["Level","Level","Lvl"],mana:["Mana","Mana","Mana"],manargn:["Mana regeneration","MP5","MP5"],mastrtng:["Mastery rating","Mastery","Mastery"],mleatkpwr:["Melee attack power","Melee AP","AP"],mlecritstrkrtng:["Melee critical strike rating","Melee Crit","Crit"],mledmgmax:["Melee maximum damage","Melee Max Damage","Max"],mledmgmin:["Melee minimum damage","Melee Min Damage","Min"],mledps:["Melee DPS","Melee DPS","DPS"],mlehastertng:["Melee haste rating","Melee Haste","Haste"],mlehitrtng:["Melee hit rating","Melee Hit","Hit"],mlespeed:["Melee speed","Melee Speed","Speed"],natres:["Nature resistance","Nature Resist","NatR"],natsplpwr:["Nature spell power","Nature Power","NatP"],nsockets:["Number of sockets","Sockets","Sockt"],parryrtng:["Parry rating","Parry","Parry"],reqarenartng:["Required personal and team arena rating","Req Rating","Rating"],reqlevel:["Required level","Req Level","Level"],resirtng:["PvP Resilience rating","PvP Resilience","Resil"],rgdatkpwr:["Ranged attack power","Ranged AP","RAP"],rgdcritstrkrtng:["Ranged critical strike rating","Ranged Crit","Crit"],rgddmgmax:["Ranged maximum damage","Ranged Max Damage","Max"],rgddmgmin:["Ranged minimum damage","Ranged Min Damage","Min"],rgddps:["Ranged DPS","Ranged DPS","DPS"],rgdhastertng:["Ranged haste rating","Ranged Haste","Haste"],rgdhitrtng:["Ranged hit rating","Ranged Hit","Hit"],rgdspeed:["Ranged speed","Ranged Speed","Speed"],sepbasestats:"Base stats",sepdefensivestats:"Defensive stats",sepindividualstats:"Individual stats",sepoffensivestats:"Offensive stats",sepresistances:"Resistances",sepweaponstats:"Weapon stats",shares:["Shadow resistance","Shadow Resist","ShaR"],shasplpwr:["Shadow spell power","Shadow Power","ShaP"],speed:["Speed","Speed","Speed"],spi:["Spirit","Spi","Spi"],splcritstrkrtng:["Spell critical strike rating","Spell Crit","Crit"],spldmg:["Damage done by spells","Spell Damage","Dmg"],splheal:["Healing done by spells","Healing","Heal"],splpwr:["Spell power","Spell Power","SP"],splhastertng:["Spell haste rating","Spell Haste","Haste"],splhitrtng:["Spell hit rating","Spell Hit","Hit"],splpen:["Spell penetration","Spell Pen","Pen"],sta:["Stamina","Sta","Sta"],str:["Strength","Str","Str"],pvppower:["PvP Power","PvPPower","PvPPower"]}}}function aq(){if(WH.Tooltip){WH.wowheadRemotePreload=true}if(P){if(!WH.wowheadRemotePreload){let jsFiles=["basic.js?35"];if(g("iconSize")){jsFiles.push("global/WH/Icon.js?2")}for(let i=0,jsFile;jsFile=jsFiles[i];i++){let script=document.createElement("script");script.src=WH.staticUrl+"/js/"+jsFile;J.appendChild(script)}}}else{N();r(function(){Y=window.Locale;Z.fetch(t,WH.getDataEnv());Z.fetch(af,WH.getDataEnv())})}}function aw(){var aX=g("hide");if(!aX){return}if(typeof aM!=="undefined"){return}if(!document.styleSheets){return}var aY=document.createElement("style");aY.type="text/css";J.appendChild(aY);if(!window.createPopup){J.appendChild(document.createTextNode(""))}aM=document.styleSheets[document.styleSheets.length-1];for(var aW in aX){if(!aX.hasOwnProperty(aW)||!aX[aW]){continue}if(aM.insertRule){aM.insertRule(".wowhead-tooltip .whtt-"+aW+"{display: none}",aM.cssRules.length)}else{if(aM.addRule){aM.addRule(".wowhead-tooltip .whtt-"+aW,"display: none",-1)}}}}this.getEntity=function(aX,a0,aZ,aW){var aY=aS(aX);aY[a0]=aY[a0]||{};aY[a0][aZ]=aY[a0][aZ]||{};aY[a0][aZ][aW]=aY[a0][aZ][aW]||{status:L,callbacks:[],data:{}};return aY[a0][aZ][aW]};function aS(aW){if(typeof W[aW]!=="object"){throw new Error("Wowhead tooltips could not find config for entity type ["+aW+"].")}return W[aW].data}function aJ(aW){if(typeof W[aW]!=="object"){WH.error("Wowhead tooltips could not find config for entity type.",aW);return undefined}if(!WH.wowheadRemote||!W[aW].hasOwnProperty("maxId")){return undefined}return{min:W[aW].hasOwnProperty("minId")?W[aW].minId:1,max:W[aW].maxId}}function au(aW){if(typeof W[aW]!=="object"){WH.error("Wowhead tooltips could not find config for entity type.",aW);return"Entity"}return W[aW].name}function am(aW){if(typeof W[aW]!=="object"){WH.error("Wowhead tooltips could not find config for entity type.",aW);return"unknown"}return W[aW].path}function c(aW,aX){var aY=_LANG[aW]||_LANG[0];return aY[aX]||""}function g(aX){var aW=O();if(!aW){return null}if(!aW.hasOwnProperty(aX)){if(aU[aX]&&aW.hasOwnProperty(aU[aX])){return aW[aU[aX]]}return null}return aW[aX]}function O(){if(typeof whTooltips==="object"){return whTooltips}if(typeof wowhead_tooltips==="object"){return wowhead_tooltips}return null}function aF(aW){if(typeof W[aW]!=="object"){WH.error("Wowhead tooltips could not find config for entity type.",aW);return false}return W[aW].mobile}function N(){if(D){return}D=true;WH.aE(document,"keydown",function(aW){aW=WH.normalizeEvent(aW);switch(aW.keyCode){case 27:$WowheadPower.clearTouchTooltip();WH.Tooltip.hide();break}});if(WH.isTouch()){f()}else{WH.aE(document,"mouseover",E)}}this.attachTouchTooltips=function(aW){if(!WH.isTouch()){return}if(aW&&aW.nodeType===1){f(aW)}};function r(aW){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",aW)}else{aW()}}function aj(aW){if(!aW.dataset||aW.dataset.hasWhTouchEvent==="true"){return}if(aW.onclick==null){aW.onclick=o}else{WH.aE(aW,"click",o)}aW.dataset.hasWhTouchEvent="true"}function f(aW){if(!WH.isTouch()){return}r(function(){aW=aW||document.body;var aY=WH.gE(aW,"a");for(var aZ=0,aX=aY.length;aZ<aX;aZ++){aj(aY[aZ])}})}this.init=function(){if(g("iconSize")&&typeof Icon==="undefined"){setTimeout($WowheadPower.init,10);return}if(P){if(!WH.wowheadRemotePreload){WH.ae(J,WH.ce("link",{type:"text/css",href:WH.staticUrl+"/css/basic.css?&14",rel:"stylesheet"}));if(g("iconSize")){WH.ae(J,WH.ce("link",{type:"text/css",href:WH.staticUrl+"/css/global/icon.css",rel:"stylesheet"}))}}}N();r(function(){if(g("renameLinks")||g("colorLinks")||g("iconizeLinks")||g("iconSize")){for(var aW=0;aW<document.links.length;aW++){var aX=document.links[aW];F(aX)}aw()}else{if(document.querySelectorAll){var aY=document.querySelectorAll('a[href*="wowhead.com/talent-calc/embed/"]');for(var aW=0;aW<aY.length;aW++){F(aY[aW])}}}})};function I(aW){var aX=WH.getCursorPos(aW);at=aX.x;ar=aX.y}function ak(aX,aY){if(aX.classList){for(let i=0,len=aY.length;i<len;i++){aX.classList.add(aY[i])}}else{for(var aW=0;aW<aY.length;aW++){if((" "+aX.className+" ").indexOf(" "+aY[aW]+" ")<0){aX.className=(aX.className?aX.className+" ":"")+aY[aW]}}}}function F(aZ,be,aX){if(be&&aZ.dataset&&aZ.dataset.simpleTooltip){if(!WH.isTouch()&&!aZ.onmouseout){if(aZ.dataset.tooltipMode!=="attach"){aZ.onmousemove=az}aZ.onmouseout=ae}WH.Tooltip.show(aZ,aZ.dataset.simpleTooltip.length<30?'<div class="no-wrap">'+aZ.dataset.simpleTooltip+"</div>":aZ.dataset.simpleTooltip);return b}if(aZ.nodeName!=="A"&&aZ.nodeName!=="AREA"){return aI}var a1=aZ.rel;try{if(aZ.dataset&&aZ.dataset.hasOwnProperty("wowhead")){a1=aZ.dataset.wowhead}else{if(aZ.getAttribute&&aZ.getAttribute("data-wowhead")){a1=aZ.getAttribute("data-wowhead")}}}catch(bj){void(0)}if((!aZ.href.length&&!a1)||(a1&&/^np\b/.test(a1))||(aZ.getAttribute("data-disable-wowhead-tooltip")==="true")||(WH.isTouch()&&aZ.getAttribute("data-disable-wowhead-touch-tooltip")==="true")){return l}let tcRegex=/^https?:\/\/(?:[^/]+\.)?classic\.(?:[^/]+\.)?wowhead\.com\/talent-calc\/embed\/[^#]+/;let tcMatches=aZ.href.match(tcRegex);if(P&&tcMatches){aZ.parentNode.replaceChild(WH.ce("div",{style:{maxWidth:"750px",maxHeight:"513px",margin:"10px auto"},className:"wowhead-embed wowhead-embed-talent-calc"},WH.ce("div",{style:{position:"relative",width:"100%",height:0,paddingTop:"68.4%"}},WH.ce("iframe",{src:tcMatches[0],width:"100%",height:"100%",style:{border:0,left:0,position:"absolute",top:0,borderRadius:"6px"},sandbox:"allow-scripts allow-top-navigation"}))),aZ);return b}let params={};m=params;var a0=function(bl,bm,bn){switch(bm){case"buff":case"map":case"noimage":case"nomajor":case"notip":case"premium":case"pvp":case"sock":case"text":case"twcata":case"twmists":case"twtbc":case"twwotlk":params[bm]=true;break;case"artk":case"c":case"class":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1lvl":case"gem2lvl":case"gem3lvl":case"ilvl":case"level":case"lvl":case"nlc":case"pwr":case"q":case"rand":case"rank":case"spec":case"tink":case"upgd":params[bm]=parseInt(bn);break;case"abil":case"azerite-essence-powers":case"azerite-powers":case"bonus":case"cri":case"forg":case"gem1bonus":case"gem2bonus":case"gem3bonus":case"gems":case"know":case"pcs":case"rewards":params[bm]=bn.split(":");break;case"build":case"domain":case"who":params[bm]=bn;break;case"image":if(bn==="premium"){params[bn]=true}else{params[bm]=bn?("_"+bn):""}break;case"transmog":if(bn==="hidden"){params[bm]=bn}else{params[bm]=parseInt(bn)}break;case"when":params[bm]=new Date(parseInt(bn));break}};let rawDomain;let typeName;let typeId;if(ax.applyto&1){if(aZ.href.indexOf("http://")===0||aZ.href.indexOf("https://")===0){let matches=aZ.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|guide|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|mount|recipe)[=/](?:[^/?&#]+-)?(-?\d+(?:\.\d+)?)/);if(!matches){matches=aZ.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/(guide)s\/([^\?&#]+)/)}if(matches){rawDomain=matches[1];typeName=matches[2];typeId=matches[3]}A=0}else{let matches=aZ.href.match(/\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe)[=/](?:[^/?&#]+-)?(-?\d+(?:\.\d+)?)/);if(!matches){matches=aZ.href.match(/\/(guide)s\/([^\?&#]+)/)}if(matches){typeName=matches[1];typeId=matches[2]}A=1}}if(!typeName&&a1&&(ax.applyto&2)){let matches=a1.match(/(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|storyline|adventure-combatant-ability|guide|mount|recipe).?(-?\d+(?:\.\d+)?)/);if(matches){typeName=matches[1];typeId=matches[2]}A=1}if(!typeName){return l}let type=WH.getTypeIdFromTypeString(typeName);if(WH.isTouch()&&!aX&&!aF(type)){return l}aZ.href.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a0);if(a1){a1.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a0)}if(params.gems&&params.gems.length>0){var bf;for(bf=Math.min(3,params.gems.length-1);bf>=0;--bf){if(parseInt(params.gems[bf])){break}}++bf;if(bf==0){delete params.gems}else{if(bf<params.gems.length){params.gems=params.gems.slice(0,bf)}}}var aY=["bonus","gem1bonus","gem2bonus","gem3bonus"];for(var a9=0,a2;a2=aY[a9];a9++){if(params[a2]&&params[a2].length>0){for(bf=Math.min(16,params[a2].length-1);bf>=0;--bf){if(parseInt(params[a2][bf])){break}}++bf;if(bf==0){delete params[a2]}else{if(bf<params[a2].length){params[a2]=params[a2].slice(0,bf)}}}}if(params.abil&&params.abil.length>0){var bf,bi=[],bd;for(bf=0;bf<Math.min(8,params.abil.length);bf++){if(bd=parseInt(params.abil[bf])){bi.push(bd)}}if(bi.length==0){delete params.abil}else{params.abil=bi}}if(params.rewards&&params.rewards.length>0){var bf;for(bf=Math.min(3,params.rewards.length-1);bf>=0;--bf){if(/^\d+.\d+$/.test(params.rewards[bf])){break}}++bf;if(bf==0){delete params.rewards}else{if(bf<params.rewards.length){params.rewards=params.rewards.slice(0,bf)}}}ao=aZ;var bk=null;var bc=Y.getId();var aW=WH.getDataEnv();if(params.domain){bk=params.domain.toLowerCase()}else{if(rawDomain){bk=rawDomain.toLowerCase().replace(/(?:^|\.)(staging|dev)$/,"")}}if(bk!==null){aW=WH.dataEnv.MAIN;bc=WH.getLocaleFromDomain(bk);if((new RegExp("\\b"+WH.BETA_DOMAIN+"\\b")).test(bk)){aW=WH.dataEnv.BETA}else{if(/^sl|shadow$/.test(bk)){aW=WH.dataEnv.BETA}else{for(var a7 in WH.dataEnv){if(!WH.dataEnv.hasOwnProperty(a7)||!WH.dataEnvTerm.hasOwnProperty(WH.dataEnv[a7])){continue}if((new RegExp("\\b"+WH.dataEnvTerm[WH.dataEnv[a7]]+"\\b")).test(bk)){aW=WH.dataEnv[a7];break}}}}}if(aW===WH.dataEnv.PTR&&!WH.isPtrActive()){aW=WH.dataEnv.MAIN}if(aW===WH.dataEnv.BETA&&!WH.isBetaActive()){aW=WH.dataEnv.MAIN}if([WH.dataEnv.BETA,WH.dataEnv.PTR].indexOf(aW)>=0){bc=0}if(aZ.href.indexOf("#")!==-1&&document.location.href.indexOf(typeName+"="+typeId)!==-1){return l}var a5=false;if(WH.isTouch()){if("innerWidth"in window){a5=window.innerWidth<w}else{var bh=document.documentElement||document.body;a5=!isNaN(bh.clientWidth)&&bh.clientWidth<w}}an=aC["float"];if(a5){an=aC.screen}else{if((aZ.parentNode.className.indexOf("icon")===0&&aZ.parentNode.nodeName==="DIV")||aZ.dataset.whattach==="icon"||aZ.dataset.tooltipMode==="icon"){an=aC.attachToIcon}else{if(WH.isTouch()||aZ.dataset.whattach==="true"||aZ.dataset.tooltipMode==="attach"){an=aC.attach}else{var a4=aZ.parentNode;var a3=0;while(a4){if(a4.className&&a4.className.indexOf("menu-inner")===0){an=aC.attachWithoutScreenshot;break}a3++;if(a3>9){break}a4=a4.parentNode}}}}if(!WH.isTouch()&&!aZ.onmouseout){if(an===aC["float"]){aZ.onmousemove=az}aZ.onmouseout=ae}if(an===aC["float"]&&aZ.dataset.whtticon==="false"){an=aC.floatWithoutIcon}if(be){x=true;I(be);WH.Tooltip.showingTooltip=true;if(typeof aZ.overrideTooltip=="object"){var a8=aZ.overrideTooltip.html;var a6=aZ.overrideTooltip.html2;if(typeof aZ.overrideTooltip.htmlGenerator=="function"){a8=aZ.overrideTooltip.htmlGenerator(aZ.overrideTooltip)}if(typeof aZ.overrideTooltip.html2Generator=="function"){a6=aZ.overrideTooltip.html2Generator(aZ.overrideTooltip)}if(aZ.overrideTooltip.spanClass){a8='<span class="'+aZ.overrideTooltip.spanClass+'">'+a8+"</span>";if(a6){a6='<span class="'+aZ.overrideTooltip.spanClass+'">'+a6+"</span>"}}aR(bc,a8,aZ.overrideTooltip.icon,aZ.overrideTooltip.map,aZ.overrideTooltip.spellData,a6,aZ.overrideTooltip.image,aZ.overrideTooltip.imageClass)}else{e(type,typeId,aW,bc,params)}}if(be||!O()){return b}var ba=$WowheadPower.getEntity(type,ap(type,typeId,params),aW,bc);var bb=[];if((g("renameLinks")&&aZ.getAttribute("data-wh-rename-link")!=="false")||aZ.getAttribute("data-wh-rename-link")==="true"){bb.push(function(){delete aZ.dataset.whIconAdded;aZ.innerHTML="<span>"+ba.data.name+"</span>"})}var bg=aZ.getAttribute("data-wh-icon-size");if((bg||g("iconizeLinks"))&&ICONIZE_TYPES.indexOf(type)!==-1){if(!bg){bg=g("iconSize")}bb.push(function(){if(ba.data.icon&&aZ.dataset.whIconAdded!=="true"){aA(aZ,ba.data,bg)}})}if(g("colorLinks")&&type===t){bb.push(function(){ak(aZ,["q"+ba.data.quality])})}if(bb.length){if(ba.status===L||ba.status===ad){ba.callbacks=ba.callbacks.concat(bb);if(ba.status===L){ay(type,typeId,aW,bc,true,params)}}else{if(ba.status===al||ba.status===u){while(bb.length){bb.shift()()}}}}return b}function aA(aX,aY,aW){if(!aW||typeof WH.Icon==="undefined"||!WH.Icon.isValidSize(aW)){aW="tiny"}var aZ=aY.icon.toLocaleLowerCase();if(aW==="tiny"){ak(aX,["icontinyl"]);if(aX.style.setProperty){aX.style.setProperty("padding-left","18px","important")}else{aX.style.paddingLeft="18px"}aX.style.verticalAlign="center";aX.style.background="url("+WH.staticUrl+"/images/wow/icons/tiny/"+aZ+".gif) left center no-repeat"}else{if(aX.getAttribute("data-wh-icon-added")==="true"){return}WH.aef(aX,WH.Icon.create(aZ,aW,null,{span:true}))}aX.setAttribute("data-wh-icon-added","true")}function E(aY){aY=WH.normalizeEvent(aY);var aX=aY._target;var aW=0;while(aX!=null&&aW<5&&F(aX,aY)===aI){aX=aX.parentNode;++aW}}function o(aZ){aZ=WH.normalizeEvent(aZ);var aY=this;if(aY.hasWHTouchTooltip===true){return}var aX=0;var aW;while(aY!=null&&aX<5&&(aW=F(aY,aZ))===aI){aY=aY.parentNode;++aX}if(aW===b){if(ac!==null){ac.removeAttribute("data-showing-touch-tooltip");ac.hasWHTouchTooltip=false}ac=aY;ac.hasWHTouchTooltip=true;if(aZ.stopPropagation){aZ.stopPropagation()}if(aZ.preventDefault){aZ.preventDefault()}return false}}function az(aW){aW=WH.normalizeEvent(aW);I(aW);WH.Tooltip.move(at,ar,0,0,CURSOR_HSPACE,CURSOR_VSPACE)}function ae(){ai=null;ao=null;WH.Tooltip.hide()}function ah(aY){if(!WH.isDev()){return"https://"+aY+".wowhead.com"}var aW=document.location.hostname.split(".");aW=aW[aW.length-3];if(aY==="www"){aY=aW}else{aY=aY+"."+aW}var aX="https://"+aY+".wowhead.com";if(document.location.port!==""){aX+=((document.location.port.indexOf(":")<0)?":":"")+document.location.port}if(document.location.protocol!=="https:"){aX=aX.replace(/^https:/,"http:")}return aX}function s(aX){var aW="tooltip";if(m&&m.buff){aW="buff"}if(m&&m.text){aW="text"}if(m&&m.premium){aW="tooltip_premium"}return aW+(aX||"")}function aP(){return(m&&m.text)?"text_icon":"icon"}function aV(){return(m&&m.buff?"buff":"")+"spells"}function v(aW){if(typeof aW==="undefined"){return"image_NONE"}return"image"+aW}function e(a1,aX,aY,a3,aZ){if(!aZ){aZ={}}var a2=ap(a1,aX,aZ);ai=a1;B=a2;R=aY;av=a3;m=aZ;Z.isLoaded(a1,aY);var a0=$WowheadPower.getEntity(a1,a2,aY,a3);if(a0.status===al||a0.status===d){var a4=a0.data[v(aZ.image)];var a5=a0.data["image"+aZ.image+"_class"];var aW=H(a1,aX,aY);if(aW){a4=aW[0];a5=aW[1]}aR(a3,a0.data[s()],a0.data[aP()],a0.data.map,a0.data[aV()],a0.data[s(2)],a4,a5)}else{if(a0.status===ad||a0.status===u){if(WH.inArray(STEALTH_TYPES,a1)==-1){aR(a3,c(a3,"loading"))}}else{ay(a1,aX,aY,a3,WH.inArray(STEALTH_TYPES,a1)!=-1,aZ)}}}function ay(a6,aX,aY,a9,a5,aZ){var a7=ap(a6,aX,aZ);var a1=$WowheadPower.getEntity(a6,a7,aY,a9);if(a1.status!==L&&a1.status!==aB){return}a1.status=ad;var a3=aJ(a6);if(a3&&(parseInt(aX,10)<a3.min||parseInt(aX,10)>a3.max)){$WowheadPower.register(a6,aX,aY,a9,{error:"ID is out of range"});return}if(!a5){a1.timer=setTimeout(T.bind(this,a6,a7,aY,a9),333)}var ba=[];for(var a2 in aZ){switch(a2){case"spec":if(a6===af||a6===aL){break}case"abil":case"artk":case"azerite-essence-powers":case"azerite-powers":case"bonus":case"build":case"class":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1bonus":case"gem1lvl":case"gem2bonus":case"gem2lvl":case"gem3bonus":case"gem3lvl":case"gems":case"ilvl":case"level":case"lvl":case"nlc":case"nomajor":case"pvp":case"q":case"rand":case"rank":case"rewards":case"sock":case"tink":case"transmog":case"twcata":case"twmists":case"twtbc":case"twwotlk":case"upgd":if(typeof aZ[a2]==="object"){ba.push(a2+"="+aZ[a2].join(":"))}else{if(aZ[a2]===true){ba.push(a2)}else{ba.push(a2+"="+aZ[a2])}}break}}var a0=WH.getDomainFromLocale(a9);switch(aY){case WH.dataEnv.MAIN:break;case WH.dataEnv.BETA:if(WH.BETA_DOMAIN){a0+=(a0?".":"")+WH.BETA_DOMAIN;break}default:a0+=(a0?".":"")+WH.dataEnvTerm[aY]}if(!a0){a0="www"}var a4=ah(a0);if(aY===WH.dataEnv.PTR||aY===WH.dataEnv.BETA){if(WH.getDataBuild(aY)!=="0"){ba.push(WH.getDataBuild(aY))}}if(!Z.isLoaded(a6,aY)){Z.fetch(a6,aY)}if(a6==t&&aZ&&aZ.hasOwnProperty("lvl")&&!Z.isLoaded(af,aY)){Z.fetch(af,aY)}var aW=ba.length?"?"+ba.join("&"):"";var a8=a4+"/tooltip/"+am(a6)+"/"+aX+aW;WH.xhrJsonRequest(a8,(function(bd,bg,bc,bf,bb,be){if(!be){WH.error("Wowhead tooltips failed to load entity data.",au(bd)+" #"+bg);return}else{if(be.error){WH.error("Wowhead tooltip request responded with an error.",be.error,au(bd)+" #"+bg)}}$WowheadPower.register(bd,bc,bf,bb,be)}).bind(null,a6,aX,a7,aY,a9))}function aR(be,bh,a4,bg,aW,bo,aY,a3){aw();if(!x){return}if(ao&&ao._fixTooltip){bh=ao._fixTooltip(bh,ai,B,ao)}var bk=false;if(!bh){bh=c(be,"notFound").replace("%s",au(ai));a4="inv_misc_questionmark";bk=true}else{if(m!=null){if(WH.reforgeStats&&m.forg&&WH.reforgeStats[m.forg]){var a2=WH.reforgeStats[m.forg];var bx=[a2.i1];for(var bu in WH.individualToGlobalStat){if(WH.individualToGlobalStat[bu]==bx[0]){bx.push(bu)}}var bs;if((bs=bh.match(new RegExp("(<!--(stat|rtg)("+bx.join("|")+")-->)[+-]?([0-9]+)")))&&!bh.match(new RegExp("<!--(stat|rtg)"+a2.i2+"-->[+-]?[0-9]+"))){var bp=Math.floor(bs[4]*a2.v),bn=aN.traits[a2.s2][0];if(a2.i2==6){bh=bh.replace("<!--rs-->","<br />+"+bp+" "+bn)}else{bh=bh.replace("<!--rr-->",WH.sprintfGlobal(y.genericequip_tip,bn.toLowerCase(),a2.i2,bp))}bh=bh.replace(bs[0],bs[1]+(bs[4]-bp));bh=bh.replace("<!--rf-->",'<span class="q2">'+WH.sprintfGlobal(y.reforged_format,bp,aN.traits[a2.s1][2],aN.traits[a2.s2][2])+"</span><br />")}}if(m.pcs&&m.pcs.length){var br=0;for(var bu=0,a8=m.pcs.length;bu<a8;++bu){var bs;var bd=new RegExp("<span><!--si([0-9]+:)*"+m.pcs[bu]+'(:[0-9]+)*--><a href="/??item=(\\d+)">(.+?)</a></span>');if(bs=bh.match(bd)){var bw=!isNaN(parseInt(av))?p[av]:"enus";var a6=(WH.isSet("g_items")&&g_items[m.pcs[bu]])?g_items[m.pcs[bu]]["name_"+bw]:bs[4];var a0='<a href="/item='+bs[3]+'">'+a6+"</a>";var bc='<span class="q13"><!--si'+m.pcs[bu]+"-->"+a0+"</span>";bh=bh.replace(bs[0],bc);++br}}if(br>0){bh=bh.replace("(0/","("+br+"/");bh=bh.replace(new RegExp("<span>\\(([0-"+br+"])\\)","g"),'<span class="q2">($1)')}}if(m.know&&m.know.length){bh=WH.setTooltipSpells(bh,m.know,aW)}if(m.lvl&&!m.ilvl){bh=WH.setTooltipLevel(bh,(m.lvl?m.lvl:WH.maxLevel),m.buff)}if(m.who&&m.when){bh=bh.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+WH.sprintf(c(be,"achievementComplete"),m.who,m.when.getMonth()+1,m.when.getDate(),m.when.getFullYear())+"</span><br /><br />");bh=bh.replace(/class="q0"/g,'class="r3"')}if(m.notip&&aY){bh="";a4=null}if((ai==TYPE_PETABILITY)&&m.pwr){bh=bh.replace(/<!--sca-->(\d+)<!--sca-->/g,function(by,bz){return Math.floor(parseInt(bz)*(1+0.05*m.pwr))})}if((ai==X)&&m.cri){for(var bu=0;bu<m.cri.length;bu++){bh=bh.replace(new RegExp("<!--cr"+parseInt(m.cri[bu])+":[^<]+","g"),'<span class="q2">$&</span>')}}}}if(!aQ&&WH.isSet("g_user")&&((WH.isRetailTree(R)&&("lists"in g_user)&&WH.isSet("g_completion"))||(WH.isClassicTree(R)&&g_user.characterProfiles&&g_user.characterProfiles.length))){var a1="";var aX=(WH.isRetailTree(R)&&(ai in g_types)&&(g_types[ai]in g_completion))?g_completion[g_types[ai]]:false;var a7=$WowheadPower.getEntity(ai,B);if(aX&&(ai==aG)){if(bk||bh===c(be,"loading")||(a7.hasOwnProperty("worldquesttype")&&a7.worldquesttype!=0)||(a7.hasOwnProperty("daily")&&a7.daily!=0)||(a7.hasOwnProperty("weekly")&&a7.weekly!=0)){aX=false}}var bj=!(aX&&(ai in g_completion_categories)&&WH.inArray(g_completion_categories[ai],a7.completion_category)===-1);var bi=/^-?\d+(?:\.\d+)?/.exec(B);bi=(bi&&bi.length)?bi[0]:B;if(aX){for(var bv in g_user.lists){var bt=g_user.lists[bv];if(!(bt.id in aX)){continue}var a9=(WH.inArray(aX[bt.id],bi)!=-1);if(!a9&&!bj){continue}a1+='<br><span class="progress-icon '+(a9?"progress-8":"progress-0")+'"></span> ';a1+=bt.character+" - "+bt.realm+" "+bt.region}}if(WH.isClassicTree(R)&&ai===aG){for(var aZ,bu=0;aZ=g_user.characterProfiles[bu];bu++){var a9=(WH.inArray(aZ.quests,bi)!=-1);if(!a9&&!bj){continue}a1+='<br><span class="progress-icon '+(a9?"progress-8":"progress-0");a1+='"></span> '+aZ.name+" - "+aZ.realm}}if(a1!=""){bh+='<br><span class="q">'+WH.TERMS.completion+":</span>"+a1}}if(!P&&ai==t&&WH.isSet("g_completion")&&("bagscans"in g_completion)&&WH.isRetailTree(R)){var ba=/^\d+/.exec(B);if(ba){ba=ba[0]}else{ba=-1}var bq=[];for(var bf in g_completion.bagscans){bq.push(bf)}var bm="";while(bf=bq.pop()){if(g_completion.bagscans[bf].items.hasOwnProperty(ba)){bm+='<tr><td class="q2" style="text-align: right">'+g_completion.bagscans[bf].items[ba]+'&nbsp;</td><td style="white-space: nowrap">'+g_completion.bagscans[bf].name+"</td></tr>"}}if(bm!=""){bh+='<br><span class="q">'+WH.TERMS.bagscanner+"</span><br><table>"+bm+"</table>"}}if(!P&&ai==TYPE_TRANSMOGSET&&typeof WH.getPreferredTransmogRace!=="undefined"){var a5=WH.getPreferredTransmogRace();bh=bh.replace(/\/modelviewer\/([^\/]+)\/webthumbs\/transmog\/\d+\/\d+\//g,"/modelviewer/$1/webthumbs/transmog/"+a5.race+"/"+(a5.gender-1)+"/")}if(!P&&bh&&(m.diff||m.diffnew||m.noimage)){aY="";a3=""}bh=bh.replace("http://","https://");if(m.map&&bg&&bg.getMap){bo=bg.getMap()}var bl=function(bA,by){if(ai!==bA.type||B!==bA.id||R!==bA.dataEnv||av!==bA.locale||m!==bA.params){return}switch(an){case aC.screen:WH.Tooltip.showInScreen(ao,by,null,bo,aY,a3,a4);break;case aC.attachToIcon:case aC.attach:var bz=WH.isElementFixedPosition(ao);WH.Tooltip.setIcon(an===aC.attachToIcon?null:a4,bz);WH.Tooltip.show(ao,by,null,null,null,bo,aY,a3,bz);break;case aC.attachWithoutScreenshot:var bz=WH.isElementFixedPosition(ao);WH.Tooltip.setIcon(a4,bz);WH.Tooltip.show(ao,by,null,null,null,bo,null,null,bz);break;case aC.floatWithoutIcon:var bz=WH.isElementFixedPosition(ao);WH.Tooltip.setIcon(null,bz);WH.Tooltip.showAtXY(by,at,ar,CURSOR_HSPACE,CURSOR_VSPACE,bo,aY,a3,bz);break;case aC["float"]:default:var bz=WH.isElementFixedPosition(ao);WH.Tooltip.setIcon(a4,bz);WH.Tooltip.showAtXY(by,at,ar,CURSOR_HSPACE,CURSOR_VSPACE,bo,aY,a3,bz)}if(P&&WH.Tooltip.logo){WH.Tooltip.logo.style.display=(A?"block":"none")}};var bb={type:ai,id:B,dataEnv:R,locale:av,params:m};aK(bh,aW,bl.bind(this,bb),bb)}function aK(aX,aY,a0,aZ){switch(aZ.type){case aL:var aW=$WowheadPower.getEntity(aZ.type,aZ.id,aZ.dataEnv,aZ.locale);if(aZ.params.spec&&!(aZ.params.know&&aZ.params.know.length)){Z.getSpellsBySpec(aZ.params.spec,function(a1){aX=aX.replace(/<!--embed:([^>]+)-->/g,function(a2,a3){return WH.setTooltipSpells(aW.data.embeds[a3].tooltip,a1,aW.data.embeds[a3].spells)});a0(aX)});break}else{aX=aX.replace(/<!--embed:([^>]+)-->/g,function(a1,a2){return WH.setTooltipSpells(aW.data.embeds[a2].tooltip,aZ.params.know,aW.data.embeds[a2].spells)})}window.requestAnimationFrame(a0.bind(null,aX));break;case af:if(aZ.params.spec&&!(aZ.params.know&&aZ.params.know.length)){Z.getSpellsBySpec(aZ.params.spec,function(a1){aX=WH.setTooltipSpells(aX,a1,aY);a0(aX)});break}window.requestAnimationFrame(a0.bind(null,aX));break;default:window.requestAnimationFrame(a0.bind(null,aX))}}function T(aY,a0,aZ,aW){if(ai==aY&&B==a0&&R==aZ&&av==aW){aR(aW,c(aW,"loading"));var aX=$WowheadPower.getEntity(aY,a0,aZ,aW);aX.timer=setTimeout(M.bind(this,aY,a0,aZ,aW),3850)}}function M(aY,a0,aZ,aW){var aX=$WowheadPower.getEntity(aY,a0,aZ,aW);aX.status=aB;if(ai==aY&&B==a0&&R==aZ&&av==aW){aR(aW,c(aW,"noResponse"))}}function ap(aW,aY,aX){if(aX.build){return aY+"build"+aX.build}return aY+(aX.rand?"r"+aX.rand:"")+(aX.ench?"e"+aX.ench:"")+(aX.gems?"g"+aX.gems.join(","):"")+(aX.sock?"s":"")+(aX.upgd?"u"+aX.upgd:"")+(aX.twtbc?"twtbc":"")+(aX.twwotlk?"twwotlk":"")+(aX.twcata?"twcata":"")+(aX.twmists?"twmists":"")+(aX.ilvl?"ilvl"+aX.ilvl:"")+(aX.lvl?"lvl"+aX.lvl:"")+(aX.gem1lvl?"g1lvl"+aX.gem1lvl:"")+(aX.gem2lvl?"g2lvl"+aX.gem2lvl:"")+(aX.gem3lvl?"g3lvl"+aX.gem3lvl:"")+(aX.artk?"ak"+aX.artk:"")+(aX.nlc?"nlc"+aX.nlc:"")+(aX.transmog?"transmog"+aX.transmog:"")+(aX.tink?"tink"+aX.tink:"")+(aX.pvp?"pvp":"")+(aX.bonus?"b"+aX.bonus.join(","):"")+(aX.gem1bonus?"g1b"+aX.gem1bonus.join(","):"")+(aX.gem2bonus?"g2b"+aX.gem2bonus.join(","):"")+(aX.gem3bonus?"g3b"+aX.gem3bonus.join(","):"")+(aX.q?"q"+aX.q:"")+(aX.level?"level"+aX.level:"")+(aX.abil?"abil"+aX.abil.join(","):"")+(aX.dd?"dd"+aX.dd:"")+(aX.ddsize?"ddsize"+aX.ddsize:"")+(aX.diff==af?"diff"+aX.diff:"")+(aX.rank?"rank"+aX.rank:"")+(aX["class"]?"class"+aX["class"]:"")+(aW!==af&&aX.spec?"spec"+aX.spec:"")+(aX.rewards?"rewards"+aX.rewards.join(":"):"")+(aX["azerite-powers"]?"azPowers"+aX["azerite-powers"]:"")+(aX["azerite-essence-powers"]?"aePowers"+aX["azerite-essence-powers"]:"")+(aX.nomajor?"nomajor":"")}this.clearTouchTooltip=function(aW){if(ac){if(aW!==true){ac.removeAttribute("data-showing-touch-tooltip")}ac.hasWHTouchTooltip=false}ac=null;if(aW!==true){WH.qsa("[data-showing-touch-tooltip]").forEach(function(aX){delete aX.dataset.showingTouchTooltip})}if(WH.Tooltip.screen){WH.Tooltip.screenInnerWrapper.scrollTop=0;WH.Tooltip.screenInnerWrapper.scrollLeft=0;WH.Tooltip.screen.style.display="none";WH.Tooltip.mobileTooltipShown=false}WH.Tooltip.hide();$WowheadPower.setParent()};function H(aW,aY,aX){if(P){return false}if(!WH.User.isPremium()){return false}if(WH.Tooltip.hideScreenshots){return false}let entity=WH.Gatherer.get(aW,aY,aX,true);if(entity&&entity.screenshot&&entity.screenshot.id){return[WH.getScreenshotUrl(entity.screenshot.id,"small",{imageType:entity.screenshot.imageType}),"screenshot"]}return false}this.register=function(a3,aX,aY,a4,a2){var a1=this.getEntity(a3,aX,aY,a4);if(a2.hasOwnProperty("additionalIds")){var aZ=a2.additionalIds;delete a2.additionalIds;if(aZ.length){for(var a5=0;a5<aZ.length;a5++){this.register(a3,aZ[a5],aY,a4,a2)}}}if(!Z.isLoaded(a3,aY)){a1.status=u;Z.registerCallback(a3,aY,this.register.bind(this,a3,aX,aY,a4,a2));return}if((typeof aX==="string"&&(aX.indexOf("lvl")===0||aX.match(/[^i]lvl/)))&&!Z.isLoaded(af,aY)){a1.status=u;Z.registerCallback(af,aY,this.register.bind(this,a3,aX,aY,a4,a2));return}if(a1.timer){clearTimeout(a1.timer);delete a1.timer}if(!WH.wowheadRemote&&a2.map){if(a1.data.map==null){a1.data.map=new Mapper({parent:WH.ce("div"),zoom:3,zoomable:false,buttons:false})}a1.data.map.update(a2.map);delete a2.map}for(var a0 in a2){if(!a2.hasOwnProperty(a0)){continue}a1.data[a0]=a2[a0]}switch(a1.status){case ad:case u:case L:if(a1.data[s()]){a1.status=al}else{a1.status=d}}if(WH.Tooltip.showingTooltip&&ai==a3&&B==aX&&R==aY&&av==a4){var a6=a1.data[v(m.image)];var a7=a1.data["image"+m.image+"_class"];var aW=H(a3,aX,aY);if(aW){a6=aW[0];a7=aW[1]}aR(a4,a1.data[s()],a1.data.icon,a1.data.map,a1.data[aV()],a1.data[s(2)],a6,a7)}while(a1.callbacks.length){a1.callbacks.shift()()}};this.request=function(aY,a1,a0,aW,aZ){if(!aZ){aZ={}}if(aW===undefined){aW=Y.getId()}if(!a0){a0=WH.getDataEnv()}var aX=ap(aY,a1,aZ);this.getEntity(aY,aX,a0,aW);ay(aY,a1,a0,aW,true,aZ)};this.triggerTooltip=function(aW,aX){F(aW,aX||{target:aW},true)};this.refreshLinks=function(aX){if(aX===true||g("renameLinks")||g("colorLinks")||g("iconizeLinks")){var aW=WH.isTouch();for(var aY=0;aY<document.links.length;aY++){var a0=document.links[aY];var aZ=a0.parentNode;var a1=false;while(aZ!=null){if((" "+aZ.className+" ").replace(/[\n\t]/g," ").indexOf(" wowhead-tooltip ")>-1){a1=true;break}aZ=aZ.parentNode}if(!a1){F(a0);if(aW){aj(a0)}}}}this.hideTooltip()};this.setParent=function(aW){WH.Tooltip.reset();WH.Tooltip.prepare(aW,WH.isElementFixedPosition(aW))};this.replaceWithTooltip=function(a7,a2,aX,aY,a4,aZ,a6){if(!aZ){aZ={}}if(a4===undefined){a4=Y.getId()}if(!aY){aY=WH.getDataEnv()}if(typeof a7=="string"){a7=document.getElementById(a7)}if(!a7){return false}var a3=ap(a2,aX,aZ);var a0=this.getEntity(a2,a3,aY,a4);switch(a0.status){case al:if(!a7.parentNode){return true}while(a7.hasChildNodes()){a7.removeChild(a7.firstChild)}var aW=["wowhead-tooltip-inline"];if(a0.data.icon){aW.push("wowhead-tooltip-inline-icon")}ak(a7,aW);var a1=a0.data[s()];var a5=function(a8){if(typeof a6==="function"){a8=a6(a8)}WH.Tooltip.append(a7,a8,true,a0.data.icon)};aK(a1,a0.data[aV()],a5,{type:a2,id:aX,dataEnv:aY,locale:a4,params:aZ});return true;case ad:case L:a0.callbacks.push(this.replaceWithTooltip.bind(this,a7,a2,aX,aY,a4,aZ,a6));this.request(a2,aX,aY,a4,aZ);return true}return false};if(P){this.set=function(aW){WH.cO(ax,aW)};this.showTooltip=function(aY,aX,aW){I(aY);aR(0,aX,aW)};this.hideTooltip=function(){if(typeof WH==="undefined"||typeof WH.Tooltip==="undefined"||typeof WH.Tooltip.hide!=="function"){return}WH.Tooltip.hide()};this.moveTooltip=function(aW){az(aW)}}else{this.disableCompletion=function(){aQ=true}}aq()}};